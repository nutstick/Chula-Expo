<!-- Libery -->
<link rel="import" href="/public/lib/polymer/polymer.html">
<!-- Web Component -->
<link rel="import" href="/public/lib/iron-image/iron-image.html">

<dom-module id="profile-image-uploadable">
  <template>
    <style is="custom-style">
      .preload iron-image {
        width: 150px;
        height: 150px;
        background: #ddd;
        cursor: pointer;
      }
    </style>
    <div class="preload">
      <iron-image sizing="contain" id="image" alt="{{alt}}" src="{{image}}" preload fade on-tap="_tap"></iron-image>
      <input id="upload" type="file" accept="image/*" value="{{upload}}" style="display: none"></input>
      <input name="{{name}}" type="hidden" value="{{image}}"></input>
    </div>
  </template>
  <script>
    Polymer({
      is: 'profile-image-uploadable',
      properties: {
        image: {
          type: String,
        },
        alt: {
          type: String,
        },
        name: String,
        upload: {
          type: Object,
          observer: '_uploading'
        }
      },
      _tap: function() {
        this.$.upload.click();
      },
      _uploading: function(event) {
        console.log(this.upload);
      }
    });
  </script>
</dom-module>
